{"version":3,"file":"eelnss-min.js","sources":["eelnss.js"],"names":["root","_assert","condition","message","_","require","_lenDef","get","set","valueSize","f","a","options","specification","mod","andThen","lenBC","compose","c","b","LenCA","eqClass","valueToMatch","check","undefined","select","listOfA","chain","filter","value","_nilLen","_idLen","newa","_fieldLenTemplate","fieldName","fGet","opt","fillEmpty","isUndefined","isArray","fSet","omit","extendO","clone","extend","_telescope","listOfLens","getTelescope","map","singleCLen","setTelescope","values","range","length","reduce","zip","res","len_value","len","_contextLenDef","cget","cset","contextExtractor","contextSize","clen","context","size","extract","lget","container","listOfContext","listOfContextAndValue","union","flatten","lset","currContainer","contextAndValue","slice","bindContext","bindedGet","bindedSet","bindContextValue","_context","_value","_len","cAndThen","clenBC","simpleAndThen","simpleCget","simpleCset","simpleExtract","simpleInverseAndThen","realAndThen","compositionContextSize","compositionValueSize","composedCget","ABcontext","BCcontext","composedCset","composedExtactor","bContexts","contextFinal","singleBContext","cContext","singleCContext","cCompose","_contextLenFromLen","_mapContextLenTemplate","key","keys","_mapContextLenLeaf","_mapContextLen","_idCLen","cLenBC","_compileExpression","cLenExpressionRaw","parts","cLenExpression","replace","cAndThenComposition","currContextLen","nextPart","andThenComposition","currLen","fieldPartBuilder","part","last","mapPartBuilder","telescopePartBuilder","setParams","exec","telescopeLensDefinitions","split","buildLenFromListOfFields","listOfFields","index","isLast","lenDefinition","telescopeSeparator","indexOf","contextParts","substring","telescopePart","push","cLenInstance","type","charAt","signature","mixin","lenDef","lenNil","lenIdentity","fieldLen","buildContextLen","telescope","this"],"mappings":"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"}